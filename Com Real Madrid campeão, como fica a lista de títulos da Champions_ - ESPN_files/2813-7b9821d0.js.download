(self.webpackChunkfitt=self.webpackChunkfitt||[]).push([[2813],{88025:(e,t,n)=>{var r=n(45697),o=r.func;e.exports=r.shape({init:o,destroy:o,whenReady:o,getAuthProvider:o,getAuthStates:o,getBestUserStream:o,getCountryCode:o,getDSSSessionToken:o,getDSSSubscriptions:o,getPlayedVideos:o,getUserAuth:o,getUserAuthNetworks:o,_queuedTask:o,setTDA:o})},95304:(e,t,n)=>{var r,o=n(85893),a=(n(67294),n(3896)),i=n(45697),s=n(50239),c=n(84967),l=n(5902),u=n(51409),d=n(21800),h=n(39233).localStorage,y=c.attr,p=c.attach,f=c.detach,P=n(27361),m=n(82492),E=n(36968),v=n(35161),g=n(52628),A=n(42348),_=n(13880),T=n(88025),S=n(14390),C=n(9831).getPlayerOptions,I=n(20263),b=n(93467),N=n(7949).getBAMPlayerConfig,{updateDataLayerPage:k}=n(45547),O=n(94184),R=n(11227)("watch:espn-watch-video-player:event"),L=n(71683).trackSeenVideo,D=n(71683).trackVideoListenerOff,w=n(1810),V=n(15351),B=n(22154),M=n(49109),x=n(85477).Z,U=B.WATCH_SUBPAGE_TYPES.SYNDICATED_PLAYER,G=B.APP_ENVS,F=G.QA,Y=G.SANDBOX,H=b.WATCH_PLAYER_EVENTS,W=H.PLAYED_VIDEO,$=H.READY,j=b.PLAYER_CONTROLS.PLAY,K=I.CONTENT_TYPES,Z=I.PROP_NAMES,z=Z.STREAMS,q=Z.ID,X=Z.IMAGE,Q=Z.PROGRESS,J=Z.TYPE,ee=s.NULL,te=s.UNDEF,ne=s.TRUE,re=s.FALSE,oe=s.cbool,ae=s.empty,ie=s.emptyObj,se=s.strlc,ce=s.idxOf,le=s.isFunc,ue=s.passThru,de=s.first,he=s.emptyAry,ye=s.noop,pe=s.cnum,fe=s.getGlobal(),Pe=`bucketItem.${z}[0].${q}`,me=b.BRIGHTCOVE_EVENTS,Ee=b.NEXT_EVENTS,ve=b.BAM_EVENTS,ge=x.EVENT_NAMES.GENERAL_INTERACTION,Ae=0,_e=ne,Te="dss-session-token",Se="login",Ce="close",Ie="click",be="props.initOptions.disableProviderLogo",Ne="bucketItem.id",ke="AUTHZ_FAILURE",Oe="",Re=b.VOLUME_SETTINGS_NAMESPACE,Le=b.VOLUME_SETTINGS_KEY,De=/[A-Za-z0-9]+:/i,we="mvpd interaction";function Ve(e){return Promise.resolve(e)}n(75303),(r=a({displayName:"WatchVideoPlayer",getInitialState:function(){return{bamAuthRetries:5,containerID:te,error:te,embedding:re,hideError:re,didPlay:re,startType:te,hideBackgroundImage:re,logo:ee}},componentDidMount:function(){var e,t,n,r=this,o=r.context||ie,a=o.watchSession,i=N(a),d=function(e){var t=c.view()||ie;return!P(e,"appState.request.vary.secure",re)||"MediaKeys"in t||"WebKitMediaKeys"in t||"MSMediaKeys"in t}(a),h=a.getUserAuth();d?(r.useInitialThumbnail=!!P(r,"props.initialThumbnail"),r.videoPlayer=new S({bamPlayerOptions:i,brightcovePlayerOptions:{techOptions:{tech:"brightcove",hasDRM:ne,type:"video"}}}),r.videoPlayer.userAuth=h,r.videoPlayer&&(r.videoPlayer.addEventListener=r.videoPlayer.on,r.videoPlayer.removeEventListener=r.videoPlayer.off),s.ns("espn.video",r.videoPlayer,fe),r.videoPlayer.on(ve.PLAYBACK_ERROR,r.onBAMPlaybackError),r.videoPlayer.on(ve.AUTHORIZE_USER,r.onBAMAuthorizeUser),r.videoPlayer.on(ve.PLAYBACK_INITIALIZED,r.emitPlayedVideo),r.videoPlayer.on(ve.FEED_CHANGE_REQUEST,r.onBAMFeedChange),r.videoPlayer.on(ve.SDK_ACCESS_CHANGE,r.onBAMAccessChange),r.videoPlayer.on(me.ESPN_PLAYING,r.emitPlayedVideo),r.videoPlayer.on(me.ESPN_CONTENT_LOADED,r.onContentLoaded),r.videoPlayer.on(me.ESPN_ERROR,r.onBCError),r.videoPlayer.on(me.ESPN_DRM_ERROR,r.onBCError),r.videoPlayer.on(me.ADS_AD_SKIPPED,r.trackSkipAd),r.videoPlayer.on(me.DTCI_GET_NEXT_CONTENT,r.getNextContent),v(A([ve.PLAYBACK_INITIALIZED,ve.PLAYBACK_ERROR,ve.AUTHORIZE_USER,g(me)]),(function(e){r.videoPlayer.on(e,(function(e,t){l.emit("espn.video",e,t)}))})),L(),r.fireVisionEvent(),p(r.node,Ie,r.trackSocialShare),r.setState({containerID:"watch-video-"+Ae++},(function(){r.videoPlayer&&r.embedWatchPlayer()}))):r.setState({error:(e=o.translate||ue,n=u.UA(),t=n.safari?"Safari":n.ie?"Internet Explorer":e("browser"),e({key:"watch.player.unsupportedBrowser",browserName:t})),hideError:re})},onBCError:function(e,t){R("onBCError",e,t);var n=P(this,"props.onError");404===P(t,"data.code")&&this.displayError(),le(n)&&n(e,t)},onBAMAccessChange:function(e,t){var n=P(t,"body.data");n?h.setItem(Te,n):h.removeItem(Te)},onBAMAuthorizeUser:function(e,t){var n,r=this,o=(t||ie).success,a=P(r,"state.bamAuthRetries",0),i=P(r,"context.watchSession",ie).guest||ie,s=i.disneyInstance,c=oe(i.loggedIn);if(!o)return n=s&&a?c?s.forceTokenRefresh:function(){return new Promise((function(e){function t(){s.off(Se,t),s.off(Ce,t),e()}s.on(Se,t),s.on(Ce,t),s.launchIdentityFlow()}))}:function(){return Promise.reject("Authentication error")},r.setState({hideError:ne}),n.call(s).then((function(){r.setState({hideError:re,bamAuthRetries:a-1},r.embedWatchPlayer)})).catch((function(e){r.setState({error:e})}))},onBAMPlaybackError(e,t){var n,r,o,a=this,i=a.props,s=i.onError,l=t||ie,u=l.exception||P(l,"exception.message",Oe),d=se(u),h=-1!==ce(d,"blackout"),y=-1!==ce(d,"streamconcurrencyviolation"),p=a.context||ie,f=p.watchSession||ie,m=p.translate||ue,E=p.emitStreampickerState||ue,g=P(a,"props.bucketItem",ie),A=f.subscriber,_=P(A,"data.envName"),T=g[z]||he,S=g[q],C=T.length>1,I=v(T,q),b=g.evtId,N=g.hrf,k=i.streamId||de(I),O={statusCode:l.statusCode,message:u,errDetails:JSON.stringify(l),ctxBktItmID:S,ctxStrmID:k};_!==F&&_!==Y||(n=new Error(`BAM Player Error: ${e}`),r=O,(o=(c.view()||ie).newrelic)&&o.noticeError&&o.noticeError(n,r)),le(s)&&s(e,t),"NotEntitled"===u?f.openPaywall():C&&(k=i.streamId||de(I),E(b,I,N,{message:m(h?"streampicker.card.blackout":y?"app.watch.error.stream-limiting-violation":u),id:k}))},trackSkipAd:function(e,t){R("trackSkipAd",e,t),(((this.context||ie).analytics||ie).track||ye)(Ie,{event_detail:"preroll ad skip",event_name:ge})},trackVolumeChange:function(e,t){var n,r,o,a,i,s=t||ie;e===ve.SYNDICATED_PLAYER_VOLUME_CHANGED?(n=s.body||ie,i=pe(n.level),a={namespace:Re,volume:i/100}):e===me.ESPN_VOLUME_CHANGED&&(i=(r=s.data||ie).value,o=r.muted,a={namespace:Re,volume:i,muted:o}),a&&h.setItem(Le,a)},trackSocialShare:function(e){var t,n=(this.context||ie).analytics||ie,r=e&&e.target||ie,o=this.props||ie,a=P(o,"bucketItem.tl"),i=n.track||ye,s=o?.analyticsConfig?.pageName||Oe;-1!==ce(r.classList,"vjs-social-share-link")&&(t=se(y(r,"title")),i(Ie,{event_name:"share interaction",event_detail:`social share:${s}:${t}:${a}`}))},getNextContent:function(){k({placement:Oe})},componentDidUpdate:function(e){var t=this,n=t.props||ie,r=(t.state||ie).videoAutoplay,o=e.streamId||P(e,Pe),a=n.streamId||P(n,Pe),i=P(e,Ne),s=P(n,Ne),c=e.toggleMute,l=n.toggleMute,u=e.togglePlay,d=n.togglePlay,h=e.toggleCaptions,y=n.toggleCaptions;i!==s&&t.fireVisionEvent(),c!==l&&t.toggleVideoControl(l),u!==d&&t.toggleVideoControl(d),h!==y&&t.toggleVideoControl(y),o!==a&&(r?(t.updateAnalytics(n),t.setState({videoAutoplay:re})):t.embedWatchPlayer(n))},onBAMFeedChange:function(e,t){var n=P(t,"body.stream");this.onFeedClick(n)},onFeedClick:function(e){var t=this.props||ie,n=(this.context||ie).onSelectBucketItem,r=e&&e.id,o=t.onVideoChange;r&&le(n)&&n({strms:[e]},{onPlayCallback:o.bind(ee,r)})},toggleVideoControl:function(e){var t=this,n=t.videoPlayer||ie,r=n[e],o=n.player;le(r)&&(o?r.call(n):n.on($,t.videoPlayer[e]),e===j?t.setFadeToArtworkTimeout():t.clearFadeToArtworkTimeout(ne))},setFadeToArtworkTimeout:function(){var e=this;((e.props||ie).initOptions||ie).chromeless&&!e.timeout&&(e.timeout=setTimeout(e.videoPlayer.destroy,6e5))},clearFadeToArtworkTimeout:function(e){var t=this;t.timeout&&(clearTimeout(t.timeout),t.timeout=te,e&&t.setFadeToArtworkTimeout())},componentWillUnmount:function(){var e=this,t=(e.props||ie).onDestroyPlayer,n=e.videoPlayer,r=e.node;n&&(n.off(ve.PLAYBACK_ERROR,e.onBAMPlaybackError),n.off(ve.AUTHORIZE_USER,e.onBAMAuthorizeUser),n.off(ve.PLAYBACK_INITIALIZED,e.emitPlayedVideo),n.off(ve.FEED_CHANGE_REQUEST,e.onBAMFeedChange),n.off(ve.SDK_ACCESS_CHANGE,e.onBAMAccessChange),n.off(ve.SYNDICATED_PLAYER_VOLUME_CHANGED,e.trackVolumeChange),n.off(me.ESPN_PLAYING,e.emitPlayedVideo),n.off(me.ESPN_CONTENT_LOADED,e.onContentLoaded),n.off(me.ESPN_ERROR,e.onBCError),n.off(me.ESPN_DRM_ERROR,e.onBCError),n.off(me.ESPN_VOLUME_CHANGED,e.trackVolumeChange),n.off(me.ADS_AD_SKIPPED,e.trackSkipAd),n.off(me.DTCI_GET_NEXT_CONTENT,e.getNextContent),le(t)&&t(n),D(),e.videoPlayer.destroy(),e.videoPlayer=te),f(r,Ie,e.trackSocialShare),e.clearFadeToArtworkTimeout(re)},displayError:function(e,t){var n=this,r=(n.state||ie).containerID,o=n.videoPlayer,a=P(n,"context.translate",ue),i={container:`#${r}`},s={type:t||"NOT_FOUND",message:e||a("app.error.video.unavailable")};if(t===ke){let t=_(e,De,Oe);return n.setState({error:t,hideError:re})}return o.error(s,i)},getPlayerProps:function(e){var t=this,n=t.state||ie,r=n.containerID,o=n.startType,a=t.context||ie,i=a.subPageType===U,s=a.watchSession,c=(a.analytics||ie).track||ye,l=e||t.props||ie,u=l.bucketItem,h=l.streamId,y=l.mediaItem,p=l.initialThumbnail,f=l.initOptions||{},P=f.playlist,m=l.playerLocation||Oe,v=de(P),g={container:`#${r}`},A=(u&&u[J])===K.VOD,_=l.fetchProgress,T=[t.checkAdobeReady()];return _&&le(_)&&T.push(_()),d(f,{startType:o}),Promise.all(T).then((function(e){var n=e&&e.length>1&&e[1],r=u,o={};return A||c(Ie,{event_name:we,event_detail:"authorization start"}),n&&(o[Q]={progress:n},r=d({},u,o),v&&v.id===r.id&&d(v,o)),C(h,r,s,f,t,y)})).then((function(e){var n=e||ie,r=n.options||ie,o=n.playerTech,a=n.authError||ae(r);return A||c(Ie,{event_name:we,event_detail:"authorization complete"}),p&&t.useInitialThumbnail&&(E(r,"mediaItem.images[0].url",void 0),t.useInitialThumbnail=re),r.interceptors&&(r.interceptors[me.ESPN_PROGRAM_CHANGE]=t.onProgramChange),d(g,{options:r,playerTech:o,hasError:a,playerLocation:m,skipPageName:i})})).catch(t.displayError)},embedWatchPlayer:function(e){var t=this,n=t.videoPlayer,r=t?.props?.onPlayerCreated;return t.getPlayerProps(e).then((e=>{var r=e||ie,o=r.hasError;return o?t.displayError(o,o?ke:te):n.create(r)})).then((e=>{var t=e?._player?._bundlePlayerAPI;le(r)&&t&&r(t),Promise.resolve(e)}))},checkAdobeReady:function(){var e,t,n=P(this,"context.analytics.isPackageLoaded",Ve);return _e?(e=new Promise((e=>setTimeout(e,5e3))),_e=re,t=n("Adobe-Analytics"),Promise.race([t,e]).catch(Ve)):Ve()},emitPlayedVideo:function(e,t){R("emitPlayedVideo",e,t);var n=this,r=n.props||ie,o=(n.state||ie).didPlay,a=r.onPlaying,i=P(t,"success")===re,s=P(r,["bucketItem",q]),c=P(n,be),u=n.videoPlayer;!i&&le(a)&&a(e,t),l.emit(W,s),!o&&u&&(u.on(ve.SYNDICATED_PLAYER_VOLUME_CHANGED,n.trackVolumeChange),u.on(me.ESPN_VOLUME_CHANGED,n.trackVolumeChange),n.setState({didPlay:ne,syndicatedPlayerLogoClassName:c?"WatchSyndicated__Logo--hide":"WatchSyndicated__Logo"}))},onContentLoaded:function(e,t){R("onContentLoaded",e,t);var n=this||ie,r=(t||ie).data||ie,o=n.props||ie,a=r.clipId||r.id,i=P(r,"mediainfo.startType"),s=o.onVideoChange;o.streamId!==a&&le(s)?(s(a),n.setState({videoAutoplay:ne,hideBackgroundImage:ne,startType:i})):n.setState({startType:te,hideBackgroundImage:ne})},updateAnalytics:function(e){var t=((this.videoPlayer||ie).player||ie).analytics||ie;this.getPlayerProps(e).then((e=>{var n=P(e||ie,"options.analytics",ie);le(t.configure)&&t.configure(n)}))},setNodeRef:function(e){(this||{}).node=e||ee},getLogo:function(){var e=this||ie,t=e.context?.watchSession||ie;t.whenReady().then((()=>{var n=t?.authenticationManager?.primaryAuthenticatedProvider?.logoUrl;n&&e.setState({logo:n})}))},handleHideLogo:function(){this.setState({syndicatedPlayerLogoClassName:"WatchSyndicated__Logo--hide"})},handleShowLogo:function(){P(this,be)||this.setState({syndicatedPlayerLogoClassName:"WatchSyndicated__Logo"})},render:function(){var e,t=this,n=t&&t.props||ie,r=n.bucketItem||ie,a=r.dscrptn||Oe,i=r.drtn||Oe,s=a?`${a} ${i?`(${i})`:Oe}`:Oe,c=t.context,l=n.className,u=O("WatchVideoPlayer__Player",l),h=n.style||{},y=n.showWatchProvider,p=t&&t.state||ie,f=c.subPageType===U,m=p.error,E=p.hideError,v=p.containerID,g=p.didPlay,A=p.hideBackgroundImage,_=p.logo,T=O("WatchVideoPlayer__Wrapper",{"WatchVideoPlayer__Wrapper--hideBG":A}),S=P(n,`bucketItem.${X}`);return S&&!A&&(h=d({},[h,{backgroundImage:`url(${S})`}])),v&&!E&&(e=`<div id="${v}"></div>`),o.jsxs("div",{className:T,onMouseEnter:t.handleShowLogo,onMouseLeave:t.handleHideLogo,ref:t.setNodeRef,children:[!A&&n?.hasCaption&&s?o.jsx("div",{className:"WatchVideoPlayer__Caption",children:s}):ee,o.jsx("div",{className:u,"data-error":m,style:h,dangerouslySetInnerHTML:{__html:e}}),g&&f&&_?o.jsx("div",{className:t.state.syndicatedPlayerLogoClassName,onClick:y,children:o.jsx("img",{src:_})}):ee]})},onProgramChange:function(e){R("onProgramChange",e);var t=this,n=e||ie,r=n.id;return r?t.getPlayerProps(d({initOptions:{}},t.props,{streamId:r,mediaItem:n})).then((function(n){var r=(n||ie).options,o=P(t,"videoPlayer.player._bundlePlayerAPI.bundle_");return o&&m(o.configs_,r),t.onContentLoaded(ee,{data:e}),r})):Promise.reject("Missing mediaItem.id")},fireVisionEvent:function(){var e=this.props||ie;((this.context||ie).fireVisionConsumedEvent||ye)(e.bucketItem,{isWatchVideo:ne})}})).propTypes={chromeless:i.bool,style:i.object,bucketItem:i.object,initOptions:i.object,onDestroyPlayer:i.func,onError:i.func,onPlayerCreated:i.func,onPlaying:i.func,streamId:i.oneOfType([i.number,i.string])},r.contextTypes={analytics:i.object,emitStreampickerState:i.func,fireVisionConsumedEvent:i.func,onSelectBucketItem:i.func,openPaywall:i.func,translate:i.func,watchSession:T,subPageType:i.string},(r=w(r,V)).defaultProps={propagateEvents:Ee},e.exports=M(r,"analytics")},52813:(e,t,n)=>{e.exports=n(95304)},97707:(e,t,n)=>{var r,o=n(50239),a=n(62412),i=n(22154).WATCH_VIDEO_BUNDLE.JS,s="DTCIVideoPlayer";e.exports=function(){var e=o.getGlobal(),t=e&&e[s];return t?r=Promise.resolve(t):r||(r=new Promise((function(t,n){function r(e){n(new Error(`Failed to load ${s} Bundle,`+e))}a.script(i).then((function(){var n=e&&e[s];n?t(n):r(`win.${s} missing after loading ${i}`)})).catch(r)}))),r}},30166:(e,t,n)=>{var r,o=n(79857),a=n(97707),i=n(50239),s=n(35161),c=n(27361),l=n(11227)("watch:espn-watch-video-player:player-tech:brightcove"),u=n(83383).defineGetter,d=n(93467),h=n(83383).selectorToId,y=d.BRIGHTCOVE_EVENTS,p=d.PLAYER_TECH,f=i.PROTO,P=i.FALSE,m=i.TRUE,E=i.emptyObj,v=i.getGlobal,g=i.isFunc,A=i.isObj;function _(e){var t=this,n=A(e)?e:E,r=n.playerTech,i=n.techOptions;o.apply(t,arguments),t._bundlePlayerTech=r,t._bundleTechOptions=i,t._loader=n.loader||a}function T(e){var t=this._bundlePlayerAPI;return c(t,e)}function S(e,t){var n,r,o=this._bundleTechOptions;return t?(n=new t(e,o),this._bundlePlayerAPI=n,r=R(n)):r=L("Error instantiating player"),r}function C(){var e=this,t=c(e,"_bundlePlayerAPI"),n=i.keys(y);t&&(e._unsubscribes=s(n,(function(n){var r=y[n],o=function(t){l("emit",r,t),e.emit(r,{data:t})};return t.addEventListener(r,o),function(){t.removeEventListener(r,o)}})))}function I(){var e,t=this;if(t._unsubscribes){for(;t._unsubscribes.length;)e=t._unsubscribes.pop(),g(e)&&e();t._unsubscribes=null}}function b(e,t,n){var r=this,o=r._bundlePlayerAPI,a=t.interceptors||E;l("bundlePlayerAPI.load",t),o.load(t),C.call(r),l("interceptors",a),i.forEach(a,(function(e,t){var n=function(n){var r=e(n);return l("intercepted",t,r),r};o.addEventInterceptor(t,n),r._unsubscribes.push((function(){o&&o.removeEventInterceptor&&o.removeEventInterceptor(t,n)}))})),n()}function N(e){var t,n=this,r=n._bundlePlayerAPI;return new Promise((function(o,a){function i(){o(n)}try{(t=r[e]())instanceof Promise?t.then(i):i()}catch(e){a(e)}}))}function k(e){var t=this,n=t._bundlePlayerAPI;return new Promise((function(r,o){try{n.captions(e),r(t)}catch(e){o(e)}}))}function O(e){var t=this,n=t._bundlePlayerAPI;return new Promise((function(r,o){try{n.muted(e),r(t)}catch(e){o(e)}}))}function R(e){return Promise.resolve(e)}function L(e){return Promise.reject(e)}r={Events:y,captionsOn:function(){return k.call(this,m)},captionsOff:function(){return k.call(this,P)},changeFeed:function(e){var t=this;t.destroy().then(t.create.bind(t,e))},create:function(e){var t=this,n=e||E,r=n.container,o=h(r),a=n.options||E,i=function(){return t.loadPlayer(o)},s=t.player?t.destroy().then(i):i(),c=v().requestAnimationFrame;return new Promise((function(e,n){s.then((function(){try{c?c((function(){b.call(t,o,a,e)})):b.call(t,o,a,e)}catch(e){n(e)}}))}))},destroy:function(){var e=this,t=e._bundlePlayerAPI;return I.call(e),t&&t.unembed(),R(e)},error:function(e,t){var n=this,r=n._bundlePlayerAPI;return new Promise((function(o,a){try{r.error(e,t),o(n)}catch(e){a(e)}}))},getPlayerConfigs:function(){return R(c(this,"_bundlePlayerAPI.bundle.options"))},loadPlayer:function(e){return(this._loader||L("No loader"))().then(S.bind(this,e)).catch((function(e){throw new Error(`Error loading Brightcove player ${e}`)}))},mute:function(){return O.call(this,m)},pause:function(){return N.call(this,"pause")},play:function(){return N.call(this,"play")},unmute:function(){return O.call(this,P)},updatePlayerConfigs:function(e){return R(e)},currentTime:function(e){var t=this,n=t._bundlePlayerAPI;return new Promise((function(r,o){try{if(e&&n)return n.currentTime(e),void r(t);r(n&&n.currentTime())}catch(e){o(e)}}))},exitFullscreen:function(){return N.call(this,"exitFullscreen")},requestFullscreen:function(){return N.call(this,"requestFullscreen")}},_[f]=r,o.inherits(_,o),u(r=_[f],"tech",(function(){return p.BRIGHTCOVE})),u(r,"container",(function(){return T.call(this,"container_")})),u(r,"player",(function(){return T.call(this,"bundle_")})),u(r,"analytics",(function(){return T.call(this,"bundle_.configs_.analytics")})),u(r,"advertising",(function(){return T.call(this,"bundle_.advertisingInfo")})),e.exports=_},14390:(e,t,n)=>{var r,o=n(79857),a=n(50239),i=n(84967),s=n(27361),c=n(11227)("espn-watch-video-player:player-tech:base"),l=n(83383).defineGetter,{updateDataLayer:u}=n(45547),d=n(93467),h=d.WATCH_PLAYER_EVENTS.READY,y=d.PLAYER_TECH,p=y.BAM,f=y.BRIGHTCOVE,P=d.BRIGHTCOVE_EVENTS,m=d.BAM_EVENTS,E=a.isAry,v=a.mix,g=a.forEach,A=a.emptyObj,_=a.emptyAry,T=a.TYPE_STR,S=a.PROTO,C=null,I=!0,b={};function N(e){var t=this,n=e||A;o.apply(t,arguments),t.playerTechConfigs={},g(b,(function(e,r){var o=e&&e.optsProp,a=n[o]||{};t.playerTechConfigs[r]={instance:C,opts:a}}))}function k(e){var t=this,n=s(t,`playerTechConfigs.${e}`,A),r=b[e]||A,o=r.events||_,a=n.opts,i=n.instance,l=r.cls;if(!i&&a&&(i=new l(a)),!i)throw Error(`Tried to re-initialize ${e}. It should have been destroyed before re-initializing`);return g(o,(function(e){i.on(e,(function(e,n){c("emit",e,n),t.emit(e,n)}))})),i}function O(e){var t=this,n=e||A,r=n.playerTech,o=n.container,a=n.options?.mediaItem,s=t&&t._player,c=s&&s.tech,l=L(s),d=t.userAuth||_;return r!==c&&(l=l.then(t.destroy.bind(t)).then(k.bind(t,r))),u({mediaItem:a,options:n,userAuth:d}),l.then((function(e){var r,a=typeof o===T?i.qsa(o,I):o;return e&&(a||e.container)?(t._player=e,r=v({},[n,{el:a,selector:o}],{owned:I,noRecurse:I}),t._player.create(r)):Promise.reject(new Error("cannot create player."))})).then((function(){return t.emit(h),t}))}function R(e){var t=this,n=t&&t._player,r=n&&n[e],o=Array.prototype.slice.call(arguments,1),a=r&&r.apply(n,o);return(a instanceof Promise?a:L()).then((function(){return t})).catch((function(e){throw e}))}function L(e){return Promise.resolve(e)}b[p]={cls:n(9658),optsProp:"bamPlayerOptions",events:m},b[f]={cls:n(30166),optsProp:"brightcovePlayerOptions",events:P},r={captionsOff:function(){return R.call(this,"captionsOff")},captionsOn:function(){return R.call(this,"captionsOn")},create:O,destroy:function(e){var t=this,n=t&&t._player;return(n&&n.destroy||L).call(n).then((function(){g(t.playerTechConfigs,(function(e){var t,n=e.instance;n&&n.eventNames&&n.listeners&&(t=n.eventNames())&&g(t,(function(e){var t,r=n.listeners(e),o=0;if(E(r))for(;t=r[o++];)n.off(e,t)})),e.instance=C})),t._player=C}))},changeFeed:function(e){return R.call(this,"changeFeed",e)},play:function(){return R.call(this,"play")},pause:function(){return R.call(this,"pause")},mute:function(){return R.call(this,"mute")},unmute:function(){return R.call(this,"unmute")},error:function(e,t){var n=this;return t.playerTech=f,O.call(n,t).then((function(){return R.call(n,"error",e)}))},getPlayerConfigs:function(){return R.call(this,"getPlayerConfigs")},updatePlayerConfigs:function(){return R.call(this,"updatePlayerConfigs",arguments)}},N[S]=r,o.inherits(N,o),l(r=N[S],"player",(function(e){return this&&this._player})),e.exports=N},75303:(e,t,n)=>{"use strict";n.r(t)}}]);